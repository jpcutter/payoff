"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var Payoff=function t(a){if(_classCallCheck(this,t),"object"!=typeof a)throw new Error("setup object required");var r=a.startMonth,n=a.startYear,o=a.duration,e=a.amount,i=a.rate/12,s=1+i,c=Math.pow(s,o),h=e*(i*c/(c-1));h=k(h,2);for(var f=0,l=0,p=0,u=e,d=[],y=0;y<=o;y++){var v=new Date(n,r+y,1),g=v.getFullYear(),w=g.toString(),M=v.getMonth()+1,m=j(M,2),P=j(v.getDate(),2),C=k(u*i,2),D=k(h-C,2);(u=k(u-D,2))<0&&(D+=u,u=0);var b=D+C;f=k(f+D,2),l=k(l+C,2),p=k(p+b,2),d.push({year:g,month:M,principal:u,interestPaid:C,principalPaid:D,date:"".concat(w,"-").concat(m,"-").concat(P)})}var Y=d[d.length-1];function j(t,a){for(var r=Math.floor(t).toString(),n=a-r.length,o="",e=0;e<n;e++)o+="0";return"".concat(o).concat(r)}function k(t,a){var r=Math.pow(10,a),n=t*r;return Math.round(n)/r}this.amount=k(e,2),this.interestPaid=l,this.monthlyPayment=k(h,2),this.paid=p,this.payoffDate=Y.date,this.payoffMonth=Y.month,this.payoffYear=Y.year,this.principalPaid=f,this.startDate=a.startDate,this.table=d};