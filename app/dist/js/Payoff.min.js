"use strict";function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var Payoff=function t(r){if(_classCallCheck(this,t),"object"!=typeof r)throw new Error("setup object required");var a=r.startYear,e=r.duration,n=r.amount,o=r.rate,i=r.startMonth-1,u=o/12,s=1+u,c=Math.pow(s,e),h=n*(u*c/(c-1));h=roundNumber(h,2);for(var d=0,f=0,l=0,m=n,p=[],b=0;b<=e;b++){var y=new Date(a,i+b,1),N=y.getFullYear(),v=N.toString(),g=y.getMonth()+1,w=addZeroes(g,2),M=addZeroes(y.getDate(),2),P=roundNumber(m*u,2),C=roundNumber(h-P,2);(m=roundNumber(m-C,2))<0&&(C+=m,m=0);var D=C+P;d=roundNumber(d+C,2),f=roundNumber(f+P,2),l=roundNumber(l+D,2),p.push({year:N,month:g,principal:m,interestPaid:P,principalPaid:C,date:"".concat(v,"-").concat(w,"-").concat(M)})}var Y=p[p.length-1];this.monthlyPayment=roundNumber(h,2),this.amount=roundNumber(n,2),this.startDate=r.startDate,this.principalPaid=d,this.interestPaid=f,this.payoffDate=Y.date,this.payoffYear=Y.year,this.payoffMonth=Y.month,this.paid=l,this.table=p};function addZeroes(t,r){for(var a=Math.round(t).toString(),e=r-a.length,n="",o=0;o<e;o++)n+="0";return"".concat(n).concat(a)}function roundNumber(t,r){var a=Math.pow(10,r),e=t*a;return Math.round(e)/a}